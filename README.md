# ğŸ¢ é«˜å¹¶å‘å®æ—¶é¢„å®šç³»ç»Ÿ

> åŸºäº React + MobX + Material-UI æ„å»ºçš„å‰ç«¯å¹¶å‘å¤„ç†è§£å†³æ–¹æ¡ˆ

[![æ„å»ºçŠ¶æ€](https://img.shields.io/badge/build-passing-brightgreen.svg)]()
[![TypeScript](https://img.shields.io/badge/TypeScript-007ACC.svg)]()
[![React](https://img.shields.io/badge/React-61DAFB.svg)]()

## ğŸ¯ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

pnpm install


### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

pnpm run dev


è®¿é—®: **http://localhost:5173/**

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

pnpm run build


## âœ¨ æ ¸å¿ƒç‰¹æ€§

| ç‰¹æ€§ | æè¿° | çŠ¶æ€ |
|------|------|------|
| å¹¶å‘å†²çªå¤„ç† | ä¼˜é›…å¤„ç†å¤šç”¨æˆ·åŒæ—¶é¢„å®š | âœ… |
| ä¹è§‚æ›´æ–° | UIç«‹å³åé¦ˆï¼Œåç«¯ç¡®è®¤ | âœ… |
| å®æ—¶çŠ¶æ€åŒæ­¥ | WebSocketå¤šç”¨æˆ·åŒæ­¥ | âœ… |
| é”å®šè¶…æ—¶ | 30ç§’è‡ªåŠ¨è§£é”æœºåˆ¶ | âœ… |
| çŠ¶æ€å›æ»š | å†²çªæ—¶è‡ªåŠ¨æ¢å¤çŠ¶æ€ | âœ… |
| æµ‹è¯•å·¥å…· | å®Œæ•´çš„å¹¶å‘æµ‹è¯•å¥—ä»¶ | âœ… |

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Frontend (React)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   MobX   â”‚ â”‚WebSocketâ”‚ â”‚ MUI  â”‚ â”‚
â”‚  â”‚  Store   â”‚ â”‚ Service â”‚ â”‚  UI  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Mock API Service               â”‚
â”‚   (æ¨¡æ‹Ÿå¹¶å‘å†²çªå’ŒçŠ¶æ€ç®¡ç†)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## ğŸ“ ç›®å½•ç»“æ„

booking/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TimeSlotCard.tsx     # æ—¶é—´æ®µå¡ç‰‡
â”‚   â”‚   â””â”€â”€ TimeSlotGrid.tsx     # æ—¶é—´æ®µç½‘æ ¼
â”‚   â”œâ”€â”€ stores/              # MobXçŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ BookingStore.ts      # é¢„å®šçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ services/            # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ BookingAPI.ts        # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ WebSocketService.ts  # WebSocketæœåŠ¡
â”‚   â”œâ”€â”€ types/               # ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts             # æ ¸å¿ƒç±»å‹
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ ConcurrencyTester.ts # å¹¶å‘æµ‹è¯•
â”‚   â”œâ”€â”€ demo/                # æµ‹è¯•æ¼”ç¤º
â”‚   â”‚   â””â”€â”€ ConcurrencyDemo.tsx  # äº¤äº’å¼æµ‹è¯•
â”‚   â””â”€â”€ App.tsx              # ä¸»åº”ç”¨
â””â”€â”€ README.md                     # æœ¬æ–‡ä»¶

## ğŸ¬ ä½¿ç”¨æ¼”ç¤º

### 1. åŸºç¡€ä½¿ç”¨
1. æ‰“å¼€ http://localhost:5173/
2. è¾“å…¥ç”¨æˆ·åå¹¶ç¡®è®¤
3. æµè§ˆå¯ç”¨æ—¶é—´æ®µ
4. ç‚¹å‡»"ç«‹å³é¢„å®š"
5. è§‚å¯ŸçŠ¶æ€å˜åŒ–

### 2. å¹¶å‘æµ‹è¯•
æ‰“å¼€å¤šä¸ªæµè§ˆå™¨çª—å£ï¼Œæ¨¡æ‹Ÿå¤šç”¨æˆ·åŒæ—¶é¢„å®šï¼š
- ç”¨æˆ·Aå’Œç”¨æˆ·BåŒæ—¶ç‚¹å‡»åŒä¸€æ—¶é—´æ®µ
- è§‚å¯Ÿå¹¶å‘å†²çªå¤„ç†
- éªŒè¯çŠ¶æ€å›æ»šæœºåˆ¶

### 3. æµ‹è¯•å·¥å…·
è®¿é—® /demo è·¯å¾„ä½¿ç”¨äº¤äº’å¼æµ‹è¯•å·¥å…·ï¼š
- å¹¶å‘é¢„å®šæµ‹è¯•
- å¿«é€Ÿé¢„å®šæµ‹è¯•
- é”å®šè¶…æ—¶æµ‹è¯•
- å®Œæ•´æµ‹è¯•å¥—ä»¶

## ğŸ” æ ¸å¿ƒæŠ€æœ¯

### ä¹è§‚æ›´æ–°æ¨¡å¼
typescript
// 1. ç«‹å³æ›´æ–°UI
applyOptimisticUpdate(slotId, optimisticSlot)

// 2. å‘é€è¯·æ±‚
const response = await api.bookSlot(request)

// 3. ç¡®è®¤æˆ–å›æ»š
if (response.success) {
  confirmBooking(response.slot)
} else {
  rollbackToOriginal(slotId)
}


### å¹¶å‘å†²çªæ£€æµ‹
typescript
if (slot.status === SlotStatus.BOOKED) {
  return {
    success: false,
    conflict: {
      bookedBy: slot.bookedBy,
      bookedAt: slot.bookedAt
    }
  }
}

### é”å®šè¶…æ—¶æœºåˆ¶
typescript
setTimeout(() => {
  if (pending.status === 'pending') {
    rollbackToAvailable(slotId)
  }
}, LOCK_TIMEOUT) // 30ç§’

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- **æ„å»ºå¤§å°**: ~553KB (gzipped: ~170KB)
- **é¦–æ¬¡åŠ è½½**: < 1ç§’
- **å“åº”æ—¶é—´**: < 100ms
- **å¹¶å‘æ”¯æŒ**: 20+ ç”¨æˆ·åŒæ—¶é¢„å®š
- **å†…å­˜ä½¿ç”¨**: < 50MB

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| React | 19.2 | å‰ç«¯æ¡†æ¶ |
| MobX | 6.15 | çŠ¶æ€ç®¡ç† |
| Material-UI | 6.5 | UIç»„ä»¶åº“ |
| TypeScript | 5.9 | ç±»å‹å®‰å…¨ |
| Vite | 7.3 | æ„å»ºå·¥å…· |
| date-fns | 4.1 | æ—¥æœŸå¤„ç† |

## ğŸ“ˆ æµè§ˆå™¨æ”¯æŒ

- Chrome >= 90
- Firefox >= 90
- Safari >= 14
- Edge >= 90

## ğŸ“ å­¦ä¹ èµ„æº

### æ¨èé˜…è¯»
- [MobXå®˜æ–¹æ–‡æ¡£](https://mobx.js.org/)
- [Material-UIæŒ‡å—](https://mui.com/)
- [Reactå¹¶å‘æ¨¡å¼](https://react.dev/learn/concurrent-ui-patterns)
- [WebSocketæœ€ä½³å®è·µ](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API)

### ç›¸å…³é¡¹ç›®
- [ReactçŠ¶æ€ç®¡ç†å¯¹æ¯”](https://github.com/reactjs/react-redux)
- [å®æ—¶åº”ç”¨æ¶æ„](https://socket.io/)

**æ³¨æ„**: è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤ºé¡¹ç›®ï¼Œå±•ç¤ºäº†é«˜å¹¶å‘åœºæ™¯ä¸‹çš„å‰ç«¯è§£å†³æ–¹æ¡ˆã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å‰ï¼Œè¯·æ ¹æ®å®é™…éœ€æ±‚è¿›è¡Œè°ƒæ•´ã€‚
